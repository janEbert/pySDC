#!/bin/bash -x
#SBATCH --nodes=1
#SBATCH --ntasks-per-node=1
#SBATCH --output=hochfix.out
#SBATCH --error=hochfix.err
#SBATCH --time=00:10:00
#SBATCH --partition=batch

export LD_PRELOAD=$EBROOTIMKL/mkl/lib/intel64/libmkl_def.so:$EBROOTIMKL/mkl/lib/intel64/libmkl_avx2.so:$EBROOTIMKL/mkl/lib/intel64/libmkl_core.so:$EBROOTIMKL/mkl/lib/intel64/libmkl_intel_lp64.so:$EBROOTIMKL/mkl/lib/intel64/libmkl_intel_thread.so:$EBROOTIMKL/lib/intel64/libiomp5.so
export MKL_NUM_THREADS=1
export NUMEXPR_NUM_THREADS=1
export OMP_NUM_THREADS=1
srun --cpu_bind=sockets --distribution=block:block python AllenCahn_contracting_circle.py

#export PYTHONPATH=$PYTHONPATH:/p/project/ccstma/cstma000/pySDC
#srun --cpu_bind=map_cpu:0,12,1,13 python run_parallel.py
#srun python run_parallel.py
#srun --cpu_bind=map_cpu:0 python run_parallel.py
#srun --cpu_bind=map_cpu:0,1,2,3,4,5,6,7 python run_parallel.py
